\documentclass[Screen16to9,17pt]{foils}
\usepackage{zencurity-slides}
\externaldocument{system-integration-exercises}
\selectlanguage{english}

% Systemintegration

\begin{document}

\mytitlepage
{4. Messaging, MQ systems}
{KEA System Integration F2020 10 ECTS}

\slide{Plan for today}

\begin{list2}
\item Messaging, MQ systems
\item Publish-Subscribe
\item Enterprise Integration Patterns
\item The Aggregator and Splitter EIPs
\item The Routing Slip EIP
\item The Dynamic Router EIP
\item The Load Balancer EIP
\end{list2}

Exercises
\begin{list2}
\item
\item
\end{list2}



\slide{Reading Summary}

\begin{list1}
\item EIP ch 3-4, Camel ch 5

and read this\\

\item Browse / skim this:\\

\end{list1}


\slide{Todays Agenda - approximate time plan}

\begin{list2}
\item 45m
\item 45m
\item 10:00 Break 15m
\item 45m
\item 45m
\item 11:45 Lunch Break
\item 45m
\item 45m
\item 14:00 Break 15m
\item 45m
\end{list2}


\slide{Goals for today}

\hlkimage{8cm}{thomas-galler-hZ3uF1-z2Qc-unsplash.jpg}

Todays goals:
\begin{list2}
\item
\item
\item
\end{list2}

Photo by Thomas Galler on Unsplash


\slide{Messaging, MQ systems}

\begin{list2}
\item
\item
\item
\end{list2}




\slide{Publish-Subscribe}


\begin{list2}
\item
\item
\item
\end{list2}




\slide{Enterprise Integration Patterns}

EIP book chapters



\slide{Chapter 5}

\hlkimage{13cm}{camelbook-5-1-1-aggr-split.png}

\begin{list2}
\item 5.1 Introducing enterprise integration patterns
\item The Aggregator and Splitter EIPs
\item The Routing Slip and Dynamic Router EIPs
\item The Load Balancer EIP
\end{list2}

\slide{5.2 The Aggregator EIP}

\hlkimage{23cm}{camelbook-5-2-aggregator.png}

\begin{list2}
\item Using the Aggregator EIP
\item Completion conditions for the Aggregator
\item Using persistence with the Aggregator
\item Using recovery with the Aggregator
\end{list2}

\slide{5.2.1 Using the Aggregator EIP}

\hlkimage{18cm}{camelbook-5-3-aggregator-in-action.png}

\slide{5.2.4 Using recovery with the Aggregator}

\hlkimage{13cm}{camelbook-5-4-fail-rollback.png}

\slide{And with recovery}

\hlkimage{13cm}{camelbook-5-5-fail-complete.png}



\slide{5.3 The Splitter EIP}

\hlkimage{18cm}{camelbook-5-3-splitter.png}

\begin{list2}
\item Using the Splitter, Using beans for splitting,
Splitting big messages, Aggregating split messages,
When errors occur during splitting
\end{list2}


\slide{Aggregating split messages}

\hlkimage{18cm}{camelbook-5-3-4-split-aggr.png}

There can be multiple reasons for doing the split, to process messages and then aggregate them.

\slide{5.4 The Routing Slip EIP}

\hlkimage{9cm}{camelbook-5-4-routing-slip.png}

\begin{list2}
\item Using the Routing Slip EIP, Using a bean to compute the
routing slip header, Using an Expression as the routing
slip, Using @RoutingSlip annotation
\end{list2}

\slide{5.5 The Dynamic Router EIP}
\begin{list2}
\item Using the Dynamic Router, Using the @DynamicRouter
 annotation
\end{list2}


\slide{5.6 The Load Balancer EIP}

\hlkimage{12cm}{camelbook-5-6-1-load-balancer.png}

\begin{list2}
\item Introducing the Load Balancer EIP, Using load-­balancing
strategies, Using the failover load balancer, Using a
custom load balancer
\item The EIP book doesn’t list the Load Balancer, which is a pattern implemented in Camel.
\item Nginx is a very popular HTTP routing engine and load balancer for HTTP(S)
\end{list2}

\slide{Nginx Load Balancer}


\begin{alltt}\footnotesize
  http \{
      upstream myapp1 \{
          least_conn;
          server srv1.example.com;
          server srv2.example.com;
          server srv3.example.com;
      \}

      server \{
          listen 80;

          location / \{
              proxy_pass http://myapp1;
          \}
      \}
  \}
\end{alltt}

Example from:
\url{http://nginx.org/en/docs/http/load_balancing.html}

%\slide{5.7 Summary and best practices}








\slidenext

\end{document}
