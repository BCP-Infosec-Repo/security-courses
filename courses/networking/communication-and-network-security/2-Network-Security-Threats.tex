\documentclass[Screen16to9,17pt]{foils}
\usepackage{zencurity-slides}

\externaldocument{communication-and-network-security-exercises}
\selectlanguage{english}

\begin{document}

\mytitlepage
{Network Security Threats}
{Communication and Network Security 2019}


\slide{Unencrypted data protocols }

\slide{TFTP Trivial File Transfer Protocol}

\begin{list1}
\item Trivial File Transfer Protocol - uautentificerede filoverførsler
\item De bruges især til:
  \begin{list2}
\item TFTP bruges til boot af netværksklienter uden egen harddisk
\item TFTP benytter UDP og er derfor ikke garanteret at data overføres korrekt
  \end{list2}
\item TFTP sender alt i klartekst, hverken password \\
{\bfseries USER brugernavn} og \\
{\bfseries PASS hemmeligt-kodeord}
\end{list1}
Still used for configuration files and firmwares

\slide{FTP File Transfer Protocol}

\begin{list1}
\item File Transfer Protocol - filoverførsler
\item Bruges især til:
  \begin{list2}
    \item FTP - drivere, dokumenter, rettelser - Windows Update? er
    enten HTTP eller FTP
  \end{list2}
\item FTP sender i klartekst\\
{\bfseries USER brugernavn} og \\
{\bfseries PASS hemmeligt-kodeord}
\item Der findes varianter som tillader kryptering, men brug istedet SCP/SFTP over Secure Shell protokollen
\end{list1}


\slide{FTP Daemon konfiguration}

\begin{list1}
\item Meget forskelligt!
\item WU-FTPD er meget udbredt
\item BSD FTPD ligeså meget anvendt
\item \emph{anonym ftp} er når man tillader alle at logge ind\\
men husk så ikke at tillade upload af filer!
\item På BSD oprettes blot en bruger med navnet \verb+ftp+ så er der åbent!
\end{list1}


\slide{Network Layer Attacks}

Yersinia

ARP flooding
ARP spoofing

IP
LAND, m.fl.


\slide{ICMP redirect}

\begin{list1}
\item Routere understøtter ofte ICMP Redirect
\item Med ICMP Redirect kan man til en afsender fortælle en anden vej til destination
\item Den angivne vej kan være smartere eller mere effektiv
\item Det er desværre uheldigt, idet der ingen sikkerhed er
\item Idag bør man ikke lytte til ICMP redirects, ej heller generere dem
\item Det svarer til ARP spoofing, idet trafik omdirigeres
\end{list1}


\slide{Hvordan virker ARP spoofing?}

\begin{center}
\colorbox{white}{\includegraphics[width=15cm]{images/arp-spoof.pdf}}
\end{center}

\begin{list1}
\item Hackeren sender forfalskede ARP pakker til de to parter
\item De sender derefter pakkerne ud på Ethernet med hackerens MAC
  adresse som modtager - han får alle pakkerne
\end{list1}

\slide{Forsvar mod ARP spoofing}

\begin{list1}
\item Hvad kan man gøre?
\item låse MAC adresser til porte på switche
\item låse MAC adresser til bestemte IP adresser
\item Efterfølgende administration!
\vskip 1 cm
\item {\bfseries arpwatch er et godt bud} - overvåger ARP
\item bruge protokoller som ikke er sårbare overfor opsamling
\end{list1}


\slide{Transport Layer Attacks}

TCP SYN flood
TCP sequence numbers


\slide{Dynamisk routing}

\hlkimage{8cm}{openbgpd-network-2.pdf}

\begin{list1}
\item Når netværkene vokser bliver det administrativt svært at vedligeholde
\item Det skalerer dårligt med statiske routes til netværk
\item Samtidig vil man gerne have redundante forbindelser
\item Til dette brug har man STP på switch niveau og dynamisk routing på IP niveau
\end{list1}



% OpenBGPD

\slide{BGP Border Gateway Protocol}

\begin{list1}
\item Er en dynamisk routing protocol som benyttes eksternt
\item Netværk defineret med AS numre annoncerer hvilke netværk de er forbundet til
\item Autonomous System (AS) er en samling netværk
\item BGP version 4 er beskrevet i RFC-4271
\item BGP routere forbinder sig til andre BGP routere og snakker sammen, \emph{peering}
\item \link{http://en.wikipedia.org/wiki/Border_Gateway_Protocol}
\item Vores setup svarer til dette:
\item \link{http://www.kramse.dk/projects/network/openbgpd-basic_en.html}
\end{list1}

\slide{RIP Routing Information Protocol}

\begin{list1}
\item Gammel routingprotokol som ikke benyttes mere
\item RIP er en distance vector routing protokol, tæller antal hops
\item \link{http://en.wikipedia.org/wiki/Routing_Information_Protocol}
\end{list1}


% OpenOSPFD

\slide{OSPF Open Shortest Path First}

\begin{list1}
\item Er en dynamisk routing protocol som benyttes til intern routing
\item OSPF version 3 er beskrevet i RFC-2740
\item OSPF bruger hverken TCP eller UDP, men sin egen protocol med ID 89
\item OSPF bruger en metric/cost pr link for at udregne smart routing
\item \link{http://en.wikipedia.org/wiki/Open_Shortest_Path_First}
\item Vores setup svarer til OpenBGPD setup, blot med OpenOSPFD
\end{list1}





\slide{Båndbreddestyring og policy based routing}

\begin{list1}
\item Mange routere og firewalls idag kan lave båndbredde allokering til
  protokoller, porte og derved bestemte services
  \item Specielt relevant for DDoS beskyttelse
\item Mest kendte er i Open Source:
\begin{list2}
\item OpenBSD - integreret i PF
\item FreeBSD har dummynet
\item Linux Traffic Control
\end{list2}
\item Det kaldes også traffic shaping
\end{list1}


\slide{Routingproblemer, angreb}

\begin{list1}
  \item falske routing updates til protokollerne
\item sende redirect til maskiner
\item source routing - mulighed for at specificere en ønsket vej for
  pakken
\item Der findes (igen) specialiserede programmer til at teste og
  forfalske routing updates, svarende til icmpush programmet
\item Det anbefales at sikre routere bedst muligt - eksempelvis
Secure IOS template der findes på adressen:\\
{\small \link{http://www.cymru.com/Documents/secure-ios-template.html}}
\item Med UNIX systemer generelt anbefales opdaterede systemer og netværkstuning
\end{list1}


\slide{Source routing}

\begin{list1}
\item Hvis en angriber kan fortælle hvilken vej en pakke skal følge
  kan det give anledning til sikkerhedsproblemer
\item maskiner idag bør ikke lytte til source routing, evt. skal de
  droppe pakkerne
\end{list1}


\slidenext

\end{document}
